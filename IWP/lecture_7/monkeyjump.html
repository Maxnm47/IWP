<!DOCTYPE html>
<html lang="en">
<head>
  <title>IWP Validation Exercise</title>
  <meta charset="UTF-8">
</head>
<body>
    <form id="myForm" >
        How many little monkeys are jumping on the bed? <input type="text" id="monkeys" value="" >
    </form>
    <div id="message" style="white-space: pre;"></div>

    
<script>
function monkeysJump(event) {
  event.preventDefault();
  const input = document.querySelector("#message").value;
  try {
    const num = parseInt(input);
    if (isNaN(num)) {
      throw "not a number";
    }
    if(num === 420){
      throw "the monkies are high af bro"
    }
    if (num < 1) {
      throw "at least one monkey please";
    }

    const messageDiv = document.querySelector("#message");
    messageDiv.textContent = "";
    let count = 0;
    let monkeyinterval = setInterval(function(){
      count++
      
      messageDiv.textContent += `${count} little monkey${count > 1 ? 's' : ''} jumping on the bed\n`;
      

    if(count === num){
      clearInterval(monkeyinterval);
      setTimeout(() => { messageDiv.textContent = ""; }, 2000);
    }
     }, 50)
    

  } catch (error) {
    const messageDiv = document.getElementById("message");
    messageDiv.textContent = error;
    setTimeout(() => { messageDiv.textContent = ""; }, 2000);
  }
  const messageDiv = document.getElementById("message");
 
}

document.getElementById("myForm").addEventListener("submit", monkeysJump);
</script>
</body>
</html>
